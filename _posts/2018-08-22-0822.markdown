---
layout: post
title: 2018-08-22
date: 2018-08-21 20:04:11 +0800
categories:  生活
---

2018年8月22日，星期三，晴，有阵雨。

雨天，莫名的失落。

```
我和她在雨中
她问:
你有没有听到闪电？
有没有看见雷鸣?

我说:
不是听到闪电，是看到，好亮，照亮了黑夜!
不是看见雷鸣，是听到，好响，震碎了天空！

风吹走了我的声音。
我没有听到闪电，
没有看见雷鸣，
也没下雨。

一切照旧，
我甚至怀疑:
她是否存在。
你呢？
```

晚上煮了粥，白粥，大火出白粥。一杯米，两个咸蛋，一些咸菜，吃得好撑，去楼下散了会步才缓过来。

不知道今天是什么节日，路边有不少人烧纸钱。中元节要过两天才是，难道是提前过节？恰好机核网游戏频道更新了一期播客，[中元节的讲究与门道](https://www.g-cores.com/radios/101070),还有点意思,难得有人这么一本正经的讲这些。
> 上坟烧报纸，糊弄鬼。

## 今日技术
### 面向接口编程
面向接口编程。
最近在重构一个功能，几个系统都有用到，大部分逻辑相同，有部分地方不一样。开始都是从同一份代码开始的，随着各个系统的业务扩展，代码逐渐不一样,加了新的业务流程，还要在原来的基础上加else if 。本来代码设计不是很好，在一个系统优化后，觉得这个优化可以，又要把代码复制到其他系统去。这样复制来复制去，严重影响心情。

所以决定优化这个功能，作为一个基础功能，其他系统需要这个功能，引入这个模块即可，可以使用默认实现，或者扩展默认实现。

思路是分离变化的，抽出不变的。都是同一个业务流程，总流程是一样的。各个系统各个业务逻辑只是获取的数据不一样，处理方式不一样。在基础模块负责流程处理，获取数据和处理方式使用接口，具体的业务实现这个接口。有新的业务进来，只要实现接口就可以了，处理流程那里也不用再加else if 。

当初为什么不这么设计呢？我也不知道啊！可能刚开始业务流程比较简单吧。



